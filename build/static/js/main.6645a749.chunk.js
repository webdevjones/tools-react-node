(this.webpackJsonptools_react_ui=this.webpackJsonptools_react_ui||[]).push([[0],{24:function(e,t,n){e.exports=n(50)},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n.n(a),c=n(0),l=n.n(c),o=n(3),i=n.n(o),s=n(10),m=n(5),u=n(4),d=n(8),p=n.n(d),h={getCustom:function(){var e=Object(m.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat("/api/custom","/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},g=function(e){var t=e.handleCustomAdd,n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],o=a[1],s=function(){var e=Object(m.a)(i.a.mark((function e(n){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=encodeURIComponent(r),e.next=4,h.getCustom(a);case 4:(c=e.sent)?t(c):alert("\n            Something went wrong :(\n\n            - The blog link doesnt exist\n\n            - The blog isnt recent enough (past 150 blogs)\n\n            - You copied the link wrong somehow?????????\n\n            Link: ".concat(r,"\n             "));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"urlForm"},l.a.createElement("form",null,l.a.createElement("div",null,l.a.createElement("input",{value:r,onChange:function(e){o(e.target.value)},placeholder:"Enter URL"})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",onClick:s},"Find Custom NB Item"))))},E=function(e){var t=e.title,n=e.handleHeaderClick,a=e.handleSection,r=e.handleCustomAdd,c=e.setEmailId,o=e.emailId,i=e.setShowSpotlight,s=e.showSpotlight,m=e.setShowPodcast,u=e.showPodcast;t||(t="Email Builder 10000"),"textfix"===t&&(t="Text Fix");var d=null;switch(t){case"culture":d="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCCulture_EmailBanner2020.png";break;case"nbdaily":d="https://cdn.mrc.org/U/OP/EMT/LOGO/NB_EmailBanner2020.png";break;case"cnsnews":d="https://cdn.mrc.org/U/OP/EMT/LOGO/CNS_EmailBanner2020.png";break;case"mrctv":d="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCTV_EmailBanner2020.png";break;case"latino":d="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCLatino_EmailBanner2020.png";break;case"fsa":d="https://cdn.mrc.org/U/OP/EMT/LOGO/FreeSpeechAmerica_Logo.png"}return console.log("title",t),l.a.createElement("div",{className:t+" container-fluid",id:"header"},l.a.createElement("div",{className:"navbar"},l.a.createElement("div",{className:"title"},l.a.createElement("button",{input:"submit",onClick:n},d?l.a.createElement("img",{src:d,alt:t}):l.a.createElement("h1",null,t))),"nbdaily"===t?l.a.createElement(g,{handleCustomAdd:r}):null,"Email Builder 10000"!==t&&l.a.createElement("div",{className:"setSpotlight"},l.a.createElement("button",{className:"".concat(s?"red":"green"),onClick:function(e){return i(!s)}},s?"Remove Spotlight":"Add Spotlight"),l.a.createElement("button",{className:"".concat(u?"red":"green"),onClick:function(e){return m(!u)}},u?"Remove Podcast":"Add Podcast")),!!c&&l.a.createElement("div",{id:"emailIdForm"},l.a.createElement("label",null,"Pardot Email Id:"),l.a.createElement("input",{type:"text",value:o,onChange:function(e){return c(e.currentTarget.value)},placeholder:"Paste email id if possible"})),l.a.createElement("button",{className:"textfix",input:"submit",value:"textfix",onClick:a},"Format Text Email")))},b=function(e){e.title;var t,n=e.endpoint,a=e.handleSection;switch(n){case"culture":t="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCCulture_EmailBanner2020.png";break;case"nbdaily":t="https://cdn.mrc.org/U/OP/EMT/LOGO/NB_EmailBanner2020.png";break;case"cnsnews":t="https://cdn.mrc.org/U/OP/EMT/LOGO/CNS-Daily_EmailBanner2020.png";break;case"mrctv":t="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCTV_EmailBanner2020.png";break;case"latino":t="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCLatino_EmailBanner2020.png";break;case"fsa":t="https://cdn.mrc.org/U/OP/EMT/LOGO/FreeSpeechAmerica_Logo.png"}return l.a.createElement("div",{className:"selectionTiles--item"},l.a.createElement("button",{className:"selectionTiles--item--button",id:n,key:n,value:n,onClick:a},l.a.createElement("img",{src:t,alt:n,className:"img-fluid"})))},f=function(e){var t=e.handleSection;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"selectionTiles"},l.a.createElement(b,{title:"NB Daily",endpoint:"nbdaily",handleSection:t}),l.a.createElement(b,{title:"CNSNews",endpoint:"cnsnews",handleSection:t}),l.a.createElement(b,{title:"MRCTV",endpoint:"mrctv",handleSection:t}),l.a.createElement(b,{title:"Culture",endpoint:"culture",handleSection:t}),l.a.createElement(b,{title:"Latino",endpoint:"latino",handleSection:t}),l.a.createElement(b,{title:"FSA",endpoint:"fsa",handleSection:t})))},v=n(21),S=n.n(v),O=function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},w=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},y=function(e,t){return t.replace(/\[\[TITLE\]\]/g,e.title).replace(/\[\[LINK\]\]/g,e.link).replace(/\[\[AUTHOR\]\]/g,e.author).replace(/\[\[DATE\]\]/g,e.pubDate).replace(/\[\[IMAGE\]\]/g,e.image).replace(/\[\[SUMMARY\]\]/g,e.content)},x=function(e,t,n,a,r,c,l){console.log("showSpotlight",c),console.log("showPodcast",l);var o=new DOMParser,i=new XMLSerializer,s=o.parseFromString(e.baseHTML,"text/html"),m=O(e.internalAd),u=O(e.adSpacer),d=O(e.impact),p=O(e.podcast);w(u,s.getElementById("articles-container")),w(m,s.getElementById("articles-container")),w(u,s.getElementById("articles-container")),console.log("impact box",d),c&&w(d,s.getElementById("impact-box")),l&&s.getElementById("podcast-box")&&(console.log("podcast id?"),w(p,s.getElementById("podcast-box"))),t.forEach((function(t,a){if(a){var r=O(y(t,n?e.snapshotImg:e.snapshot)),c=s.getElementById("articles-container");c.parentNode.insertBefore(r,c)}else s.getElementById("featured-container").innerHTML=y(t,e.featured),s.getElementById("preheader").innerHTML=function(e){return'<tbody><tr><td><p  style="display:none;">'+e.content+"</p></td></tr></tbody>"}(t)})),s.getElementsByTagName("html")[0].removeAttribute("style");var h=i.serializeToString(s);return h=h.replace(/%%emailId%%/g,a).replace(/\[\[NL_COLOUR\]\]/g,function(e){var t="";return"nbdaily"===e?t="#ee7624":"cnsnews"===e?t="#0055b8":"mrctv"===e?t="#858c91":"culture"===e?t="#8f2829":"latino"===e?t="#b3272d":"fsa"===e&&(t="#FF1E03"),t}(r))},N=n(11),C=n(23),T=n.n(C),k=function(e){var t=e.incontent,n=e.index,a=e.handleSwitch;return Number(t)?l.a.createElement("button",{className:"buildArea--topItems--incontent--button",input:"submit",value:[n,Number(t)],onClick:a},"Remove"):l.a.createElement("button",{className:"buildArea--items--queued--button",input:"submit",value:[n,Number(t)],onClick:a},"Add")},I=function(e){var t=e.items,n=e.handleSwitch;return t.map((function(e,t){return l.a.createElement("div",{key:t,className:"buildArea--items--queued"},l.a.createElement("h6",null,l.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.title)),l.a.createElement("p",null,"".concat(e.author," | ").concat(e.pubDate," | ").concat(e.pubTime)),l.a.createElement(k,{incontent:"0",index:t,handleSwitch:n}))}))},B=Object(N.b)((function(e){var t=e.section,n=e.item,a=e.arrIndex,r=e.handleSwitch;return l.a.createElement("div",{key:a,className:t+"Light buildArea--topItems--incontent"},l.a.createElement("h6",null,l.a.createElement("a",{href:n.link,target:"_blank",rel:"noopener noreferrer"},n.title)),l.a.createElement("p",null,"".concat(n.author," | ").concat(n.pubDate," | ").concat(n.pubTime)),l.a.createElement(k,{incontent:"1",index:a,handleSwitch:r}))})),M=Object(N.a)((function(e){var t=e.topItems,n=e.handleSwitch,a=e.section;return l.a.createElement("div",{className:"buildArea--topItems"},t.map((function(e,t){return l.a.createElement(B,{section:a,item:e,key:t,index:t,arrIndex:t,handleSwitch:n})})))})),L=function(e){var t=e.items,n=e.topItems,a=e.setTopItems,r=e.templates,c=e.section,o=e.handleSwitch,i=e.emailId,s=e.showSpotlight,m=e.showPodcast,u=x(r,n,"nbdaily"!==c&&"mrctv"!==c,i,c,s,m);return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"buildArea"},l.a.createElement("div",{className:"buildArea--items"},l.a.createElement(I,{items:t,handleSwitch:o})),l.a.createElement(M,{section:c,topItems:n,helperClass:"test",axis:"xy",handleSwitch:o,onSortEnd:function(e){var t=e.oldIndex,r=e.newIndex;a(T()(n,t,r))}}),l.a.createElement("div",{className:"buildArea--editor"},l.a.createElement(S.a,{data:u,type:"classic",config:{allowedContent:!0,startupShowBorders:!1,fullPage:!0,height:600},onChange:function(e){var t=e.editor.getData();!function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(t=t.replace(/<!--\[if \(gte mso 9\)\|\(IE\)\]>/g,"\n\x3c!--[if (gte mso 9)|(IE)]>\n").replace(/<!\[endif\]-->/g,"\n<![endif]--\x3e\n"))}}))))};console.log();var j={getSection:function(){var e=Object(m.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat("/api/section","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},A=function(){var e=document.getElementsByTagName("button"),t=document.getElementsByTagName("textarea"),n=t.formatMe.value;if(n.length){for(var a=n.split("\n"),r=0;r<a.length;++r)a[r]=a[r].replace(/\[mrctv:(?:(?!\])[\s\S])*?\]/gi,"").replace(/[\s\S]*?intermarkets[\s\S]*/gi,"").replace(/[\s\S]*?%%email%%[\s\S]*/gi,"").replace(/^\s*/,"");for(var c=a.length-1;c>1;--c)a[c].length+a[c-1].length||a.splice(c,1);var l=a.join("\n");t.formatMe.value=l,t.formatMe.select(),document.execCommand("copy"),e.textButton.innerHTML="Formatted AND copied to clipboard for your convenience =D"}},P=function(){return l.a.createElement("div",{className:"container"},l.a.createElement("button",{id:"textButton",onClick:A,style:{width:"100%",margin:"1rem 0",padding:".5rem 0",fontSize:"1rem",fontWeight:"600"}},"Format this text please!"),l.a.createElement("textarea",{id:"formatMe",style:{width:"100%",height:"75vh"}}))},_=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),o=Object(u.a)(r,2),d=o[0],p=o[1],h=Object(c.useState)({}),g=Object(u.a)(h,2),b=g[0],v=g[1],S=Object(c.useState)({}),O=Object(u.a)(S,2),w=O[0],y=O[1],x=Object(c.useState)({}),N=Object(u.a)(x,2),C=N[0],T=N[1],k=Object(c.useState)(""),I=Object(u.a)(k,2),B=I[0],M=I[1],A=Object(c.useState)(!1),_=Object(u.a)(A,2),U=_[0],R=_[1],F=Object(c.useState)(!1),G=Object(u.a)(F,2),H=G[0],D=G[1],z=function(e){a(e)},V=function(){a(!1),p(null),y({}),T({}),v({})},q=function(e){var t=e.currentTarget.value;p(t)};return Object(c.useEffect)((function(){d&&"textfix"!==d&&function(){var e=Object(m.a)(i.a.mark((function e(){var t,n,a,r,c,l,o,m,u,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,j.getSection(d);case 3:t=e.sent,z(!1),n=t.bottomItems.values(),a=t.topItems.values(),r=[],c=[],l=Object(s.a)(n);try{for(l.s();!(o=l.n()).done;)m=o.value,r.push(m)}catch(i){l.e(i)}finally{l.f()}u=Object(s.a)(a);try{for(u.s();!(p=u.n()).done;)h=p.value,c.push(h)}catch(i){u.e(i)}finally{u.f()}v(r),y(c),T(t.templates);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[d]),console.log("templates",C),n?l.a.createElement("div",{className:"loading-wrapper"},l.a.createElement("img",{src:"spinninHarry.gif",alt:"Loading..."})):"textfix"===d?l.a.createElement("div",{className:"bootstrap-wrapper"},l.a.createElement(E,{title:d,handleHeaderClick:V,handleSection:q}),l.a.createElement(P,null)):d&&b.length>=0&&w.length>=0&&C.hasOwnProperty("baseHTML")?l.a.createElement("div",{className:"bootstrap-wrapper"},l.a.createElement(E,{title:d,handleHeaderClick:V,handleSection:q,handleCustomAdd:function(e){console.log(e),y([e].concat(w))},setEmailId:M,emailId:B,setShowSpotlight:R,showSpotlight:U,setShowPodcast:D,showPodcast:H}),l.a.createElement(L,{items:b,topItems:w,setTopItems:y,templates:C,section:d,handleSwitch:function(e){var t=e.currentTarget.value.split(","),n=Object(u.a)(t,2),a=n[0],r=n[1];if(a=Number(a),r=Number(r)){var c=w[a];y(w.filter((function(e,t){return t!==a}))),v([c].concat(b))}else{var l=b[a];v(b.filter((function(e,t){return t!==a}))),y(w.concat([l]))}},emailId:B,showSpotlight:U,showPodcast:H})):l.a.createElement("div",{className:"bootstrap-wrapper"},l.a.createElement(E,{handleHeaderClick:V,handleSection:q}),l.a.createElement(f,{handleSection:q}))};n(49);r.a.render(l.a.createElement(_,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6645a749.chunk.js.map