(this.webpackJsonptools_react_ui=this.webpackJsonptools_react_ui||[]).push([[0],{23:function(e,t,n){e.exports=n(49)},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n.n(a),c=n(0),l=n.n(c),i=n(3),o=n.n(i),s=n(10),u=n(5),m=n(4),d=n(8),p=n.n(d),h={getCustom:function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat("/api/custom","/").concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.handleCustomAdd,n=Object(c.useState)(""),a=Object(m.a)(n,2),r=a[0],i=a[1],s=function(){var e=Object(u.a)(o.a.mark((function e(n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a=encodeURIComponent(r),e.next=4,h.getCustom(a);case 4:(c=e.sent)?t(c):alert("\n            Something went wrong :(\n\n            - The blog link doesnt exist\n\n            - The blog isnt recent enough (past 150 blogs)\n\n            - You copied the link wrong somehow?????????\n\n            Link: ".concat(r,"\n             "));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"urlForm"},l.a.createElement("form",null,l.a.createElement("div",null,l.a.createElement("input",{value:r,onChange:function(e){i(e.target.value)},placeholder:"Enter URL"})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",onClick:s},"Find Custom NB Item"))))},E=function(e){var t=e.title,n=e.handleHeaderClick,a=e.handleSection,r=e.handleCustomAdd;t||(t="Email Builder 10000"),"textfix"===t&&(t="Text Fix");var c=null;switch(t){case"culture":c="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCCulture_EmailBanner2020.png";break;case"nbdaily":c="https://cdn.mrc.org/U/OP/EMT/LOGO/NB_EmailBanner2020.png";break;case"cnsnews":c="https://cdn.mrc.org/U/OP/EMT/LOGO/CNS_EmailBanner2020.png";break;case"mrctv":c="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCTV_EmailBanner2020.png";break;case"latino":c="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCLatino_EmailBanner2020.png";break;case"fsa":c="https://cdn.mrc.org/U/OP/EMT/LOGO/FreeSpeechAmerica_Logo.png"}return l.a.createElement("div",{className:t+" container-fluid",id:"header"},l.a.createElement("div",{className:"navbar"},l.a.createElement("div",{className:"title"},l.a.createElement("button",{input:"submit",onClick:n},c?l.a.createElement("img",{src:c,alt:t}):l.a.createElement("h1",null,t))),"nbdaily"===t?l.a.createElement(f,{handleCustomAdd:r}):null,l.a.createElement("button",{className:"textfix",input:"submit",value:"textfix",onClick:a},"Format Text Email")))},b=function(e){e.title;var t,n=e.endpoint,a=e.handleSection;switch(n){case"culture":t="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCCulture_EmailBanner2020.png";break;case"nbdaily":t="https://cdn.mrc.org/U/OP/EMT/LOGO/NB_EmailBanner2020.png";break;case"cnsnews":t="https://cdn.mrc.org/U/OP/EMT/LOGO/CNS-Daily_EmailBanner2020.png";break;case"mrctv":t="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCTV_EmailBanner2020.png";break;case"latino":t="https://cdn.mrc.org/U/OP/EMT/LOGO/MRCLatino_EmailBanner2020.png";break;case"fsa":t="https://cdn.mrc.org/U/OP/EMT/LOGO/FreeSpeechAmerica_Logo.png"}return l.a.createElement("div",{className:"selectionTiles--item"},l.a.createElement("button",{className:"selectionTiles--item--button",id:n,key:n,value:n,onClick:a},l.a.createElement("img",{src:t,alt:n,className:"img-fluid"})))},g=function(e){var t=e.handleSection;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"selectionTiles"},l.a.createElement(b,{title:"NB Daily",endpoint:"nbdaily",handleSection:t}),l.a.createElement(b,{title:"CNSNews",endpoint:"cnsnews",handleSection:t}),l.a.createElement(b,{title:"MRCTV",endpoint:"mrctv",handleSection:t}),l.a.createElement(b,{title:"Culture",endpoint:"culture",handleSection:t}),l.a.createElement(b,{title:"Latino",endpoint:"latino",handleSection:t}),l.a.createElement(b,{title:"FSA",endpoint:"fsa",handleSection:t})))},v=n(21),O=n.n(v),S=function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},y=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},w=function(e,t){return t.replace(/\[\[TITLE\]\]/g,e.title).replace(/\[\[LINK\]\]/g,e.link).replace(/\[\[AUTHOR\]\]/g,e.author).replace(/\[\[DATE\]\]/g,e.pubDate).replace(/\[\[IMAGE\]\]/g,e.image).replace(/\[\[SUMMARY\]\]/g,e.content)},x=function(e,t,n){var a=new DOMParser,r=new XMLSerializer,c=a.parseFromString(e.baseHTML,"text/html"),l=S(e.internalAd),i=S(e.adSpacer);y(i,c.getElementById("articles-container")),y(l,c.getElementById("articles-container")),y(i,c.getElementById("articles-container")),t.forEach((function(t,a){if(a){var r=S(w(t,n?e.snapshotImg:e.snapshot)),l=c.getElementById("articles-container");l.parentNode.insertBefore(r,l)}else c.getElementById("featured-container").innerHTML=w(t,e.featured),c.getElementById("preheader").innerHTML=function(e){return'<tbody><tr><td><p  style="display:none;">'+e.content+"</p></td></tr></tbody>"}(t)}));var o=Math.floor(1e9*Math.random()),s=r.serializeToString(c);return s=s.replace(/%%emailId%%/g,("0000000000000"+o).substr(-10))},N=n(11),C=n(22),T=n.n(C),k=function(e){var t=e.incontent,n=e.index,a=e.handleSwitch;return Number(t)?l.a.createElement("button",{className:"buildArea--topItems--incontent--button",input:"submit",value:[n,Number(t)],onClick:a},"Remove"):l.a.createElement("button",{className:"buildArea--items--queued--button",input:"submit",value:[n,Number(t)],onClick:a},"Add")},M=function(e){var t=e.items,n=e.handleSwitch;return t.map((function(e,t){return l.a.createElement("div",{key:t,className:"buildArea--items--queued"},l.a.createElement("h6",null,l.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer"},e.title)),l.a.createElement("p",null,"".concat(e.author," | ").concat(e.pubDate," | ").concat(e.pubTime)),l.a.createElement(k,{incontent:"0",index:t,handleSwitch:n}))}))},L=Object(N.b)((function(e){var t=e.section,n=e.item,a=e.arrIndex,r=e.handleSwitch;return l.a.createElement("div",{key:a,className:t+"Light buildArea--topItems--incontent"},l.a.createElement("h6",null,l.a.createElement("a",{href:n.link,target:"_blank",rel:"noopener noreferrer"},n.title)),l.a.createElement("p",null,"".concat(n.author," | ").concat(n.pubDate," | ").concat(n.pubTime)),l.a.createElement(k,{incontent:"1",index:a,handleSwitch:r}))})),B=Object(N.a)((function(e){var t=e.topItems,n=e.handleSwitch,a=e.section;return l.a.createElement("div",{className:"buildArea--topItems"},t.map((function(e,t){return l.a.createElement(L,{section:a,item:e,key:t,index:t,arrIndex:t,handleSwitch:n})})))})),I=function(e){var t=e.items,n=e.topItems,a=e.setTopItems,r=e.templates,c=e.section,i=e.handleSwitch,o=x(r,n,"nbdaily"!==c&&"mrctv"!==c);return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"buildArea"},l.a.createElement("div",{className:"buildArea--items"},l.a.createElement(M,{items:t,handleSwitch:i})),l.a.createElement(B,{section:c,topItems:n,helperClass:"test",axis:"xy",handleSwitch:i,onSortEnd:function(e){var t=e.oldIndex,r=e.newIndex;a(T()(n,t,r))}}),l.a.createElement("div",{className:"buildArea--editor"},l.a.createElement(O.a,{data:o,type:"classic",config:{allowedContent:!0,startupShowBorders:!1,fullPage:!0,extraPlugins:"autogrow",autoGrow_onStartup:!0},onChange:function(e){!function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(e.editor.getData())}}))))},j={getSection:function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("".concat("/api/section","/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},A=function(){var e=document.getElementsByTagName("button"),t=document.getElementsByTagName("textarea"),n=t.formatMe.value;if(n.length){for(var a=n.split("\n"),r=0;r<a.length;++r)a[r]=a[r].replace(/\[mrctv:[\0-\\\^-\uFFFF]*?\]/gi,"").replace(/[\s\S]*?intermarkets[\s\S]*/gi,"").replace(/^\s*/,"");for(var c=a.length-1;c>1;--c)a[c].length+a[c-1].length||a.splice(c,1);var l=a.join("\n");t.formatMe.value=l,t.formatMe.select(),document.execCommand("copy"),e.textButton.innerHTML="Formatted AND copied to clipboard for your convenience =D"}},_=function(){return l.a.createElement("div",{className:"container"},l.a.createElement("button",{id:"textButton",onClick:A,style:{width:"100%",margin:"1rem 0",padding:".5rem 0",fontSize:"1rem",fontWeight:"600"}},"Format this text please!"),l.a.createElement("textarea",{id:"formatMe",style:{width:"100%",height:"75vh"}}))},P=function(){var e=Object(c.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),i=Object(m.a)(r,2),d=i[0],p=i[1],h=Object(c.useState)({}),f=Object(m.a)(h,2),b=f[0],v=f[1],O=Object(c.useState)({}),S=Object(m.a)(O,2),y=S[0],w=S[1],x=Object(c.useState)({}),N=Object(m.a)(x,2),C=N[0],T=N[1],k=function(e){a(e)},M=function(){a(!1),p(null),w({}),T({}),v({})},L=function(e){var t=e.currentTarget.value;p(t)};return Object(c.useEffect)((function(){d&&"textfix"!==d&&function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,r,c,l,i,u,m,p,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,j.getSection(d);case 3:t=e.sent,k(!1),n=t.bottomItems.values(),a=t.topItems.values(),r=[],c=[],l=Object(s.a)(n);try{for(l.s();!(i=l.n()).done;)u=i.value,r.push(u)}catch(o){l.e(o)}finally{l.f()}m=Object(s.a)(a);try{for(m.s();!(p=m.n()).done;)h=p.value,c.push(h)}catch(o){m.e(o)}finally{m.f()}v(r),w(c),T(t.templates);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[d]),n?l.a.createElement("div",{className:"loading-wrapper"},l.a.createElement("img",{src:"78.gif",alt:"Loading..."})):"textfix"===d?l.a.createElement("div",{className:"bootstrap-wrapper"},l.a.createElement(E,{title:d,handleHeaderClick:M,handleSection:L}),l.a.createElement(_,null)):d&&b.length>=0&&y.length>=0&&C.hasOwnProperty("baseHTML")?l.a.createElement("div",{className:"bootstrap-wrapper"},l.a.createElement(E,{title:d,handleHeaderClick:M,handleSection:L,handleCustomAdd:function(e){console.log(e),w([e].concat(y))}}),l.a.createElement(I,{items:b,topItems:y,setTopItems:w,templates:C,section:d,handleSwitch:function(e){var t=e.currentTarget.value.split(","),n=Object(m.a)(t,2),a=n[0],r=n[1];if(a=Number(a),r=Number(r)){var c=y[a];w(y.filter((function(e,t){return t!==a}))),v([c].concat(b))}else{var l=b[a];v(b.filter((function(e,t){return t!==a}))),w(y.concat([l]))}}})):l.a.createElement("div",{className:"bootstrap-wrapper"},l.a.createElement(E,{handleHeaderClick:M,handleSection:L}),l.a.createElement(g,{handleSection:L}))};n(48);r.a.render(l.a.createElement(P,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.6842d2d5.chunk.js.map